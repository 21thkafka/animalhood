<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
</head>
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader"/>
    <div id="detailTable">
        <h4>회원 정보</h4>
        <table class="table table-striped">
            <tbody>
            <tr>
                <th>회원 이름</th>
                <td th:text="${member.name}"></td>
            </tr>
            <tr>
                <th>회원 email</th>
                <td th:text="${member.email}"></td>
            </tr>

            <tr>
                <th>전화번호</th>
                <td th:text="${member.mobile}"></td>
            </tr>
            <tr>
                <th>주소</th>
                <td th:text="${member.address}"></td>

            </tr>

            </tbody>
        </table>
    </div>

    <div id="petTable">
        <h4>반려동물</h4>
        <table class="table table-striped">
            <tbody>
            <tr th:each="pet, i:${member.pet}">
                <th><img th:if="${pet.image.serverName != null}"
                         th:src="@{|/img/${pet.image.serverName}|}" style="width:140px" height="auto"></th>
                <td id="petTd" th:if="${pet.petName != null}" th:text="${pet.petName}" ></td>
                <td th:if="${pet.gubun != null}" th:text="${pet.gubun}" ></td>
                <td th:if="${pet.petAge != null}" th:text="${pet.petAge}+'살'"></td>
            </tr>
            </tbody>
        </table>

        <button id="addPetBtn" class="btn btn-primary" onclick="addPet()">반려 동물 추가</button>
    </div>

    <div class="pop_group" id="addPetPopup" style="display:none">
        <div class="pop_wrap">
            <h5>반려동물 등록
                <a href="javascript:popupClose()" id="popupCloseBtn" style="font-size:30px;width:20px;float: right;">x</a>
            </h5>
        <form role="form" action="/pet" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <input type="hidden" name="memberId" id="memberId" th:value="${member.id}" />
                <label for="petName"> 이름</label>
                <input type="text" class="form-control" name="petName" id="petName">
            </div>
            <div class="form-group">
                <label for="petAge">나이</label>
                <input type="number" class="form-control" name="petAge" id="petAge"><p>세</p>
            </div>
            <div class="form-group">
                <label for="gubun">종류</label>
                <select id="gubun" name="gubun">
                    <option value="강아지">강아지</option>
                    <option value="고양이">고양이</option>
                    <option value="햄스터">햄스터</option>
                    <option value="고슴도치">고슴도치</option>
                    <option value="조류">조류</option>
                    <option value="파충류">파충류</option>
                    <option value="기타">기타</option>

                </select>
            </div>
            <div>
                <p>반려동물 사진 등록해주세요</p>
                <input type="file" name="files" multiple="multiple" />
            </div>

            <button type="submit" class="btn btn-primary" style="margin:10px; float:right;">추가</button>
        </form>
        </div>
    </div>
</div>
<script>
function addPet(){
    document.getElementById("addPetPopup").style.display="block";
}
function popupClose(){
    console.log("팝업 닫기 클릭 확인");
    document.getElementById("addPetPopup").style.display="none";
}
</script>
</body>
</html>